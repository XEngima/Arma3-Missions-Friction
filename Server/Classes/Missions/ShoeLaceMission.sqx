/*
 * Name:	ShoeLaceMission
 * Date:	2020-08-03
 * Version: 1.0
 * Author:  Engima
 *
 * Description:
 * Contains common logic for all mission that belong to Operation Shoe Lace.
 */

using Mission.Common;

namespace Mission.Server
{
	public class ShoeLaceMission : Mission
	{
		// Creates a ShoeLaceMission object.
		public constructor("_actingSide" as Side)
		{
			[_actingSide] call _base.Constructor;
		};
		
		protected override method InitMission("_mission" as MissionSettings)
		{
			_mission.Name = "A Shoe Lace Mission";
		};
		
		protected override method Setup()
		{
			if (HistoryToken.Quadbike in _self.EarlierGainedTokensActing) then {
				["QUADBIKE", MissionSide.Acting, BaseMarker.LandVehicles, true] call _self.CreateSideVehicleOnBaseMarker;
			};
			
			if (HistoryToken.Mrap in _self.EarlierGainedTokensActing) then {
				["MRAP", MissionSide.Acting, BaseMarker.LandVehicles, true] call _self.CreateSideVehicleOnBaseMarker;
			};
		
			if (HistoryToken.Quadbike in _self.EarlierGainedTokensOpposing) then {
				["QUADBIKE", MissionSide.Opposing, BaseMarker.LandVehicles, true] call _self.CreateSideVehicleOnBaseMarker;
			};
			
			if (HistoryToken.Mrap in _self.EarlierGainedTokensOpposing) then {
				["MRAP", MissionSide.Opposing, BaseMarker.LandVehicles, true] call _self.CreateSideVehicleOnBaseMarker;
			};
		
			call _base.Setup;
		};
	};
};
