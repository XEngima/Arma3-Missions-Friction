/*
 * Name:	MissionResultInfo
 * Date:	2020-07-01
 * Version: 1.0
 * Author:  Engima
 *
 * Description:
 * Contains the result of a mission.
 */
namespace Mission.Common
{
	public class MissionResultInfo
	{
		// Creates a MissionResult object.t
		public constructor("_primaryObjectiveName" as String, "_primaryObjectiveCompleted" as Boolean, "_secondaryObjectiveName" as String, "_secondaryObjectiveCompleted" as Boolean, "_usingReturnObjective" as Boolean, "_returnObjectiveCompleted" as Boolean, "_menAtStart" as Scalar, "_menAtEnd" as Scalar)
		{
			_self.PrimaryObjectiveName = _primaryObjectiveName;
			_self.PrimaryObjectiveCompleted = _primaryObjectiveCompleted;
			_self.SecondaryObjectiveName = _secondaryObjectiveName;
			_self.SecondaryObjectiveCompleted = _secondaryObjectiveCompleted;
			_self.UsingReturnObjective = _usingReturnObjective;
			_self.ReturnObjectiveCompleted = _returnObjectiveCompleted;
			_self.MenAtStart = _menAtStart;
			_self.MenAtEnd = _menAtEnd;
			
			private _score = 0;
			
			if (_self.PrimaryObjectiveCompleted) then {
				_score = _score + 100;
			};
			
			if (_self.SecondaryObjectiveCompleted) then {
				_score = _score + 50;
			};
			
			if (_self.UsingReturnObjective && _self.ReturnObjectiveCompleted) then {
				_score = _score + 25;
			};
			
			_score = _score - (_menAtStart - _menAtEnd) * 10;
			
			if (_score < 0) then {
				_score = 0;
			};
			
			_self.Score = _score;
		};
		
		public property String PrimaryObjectiveName { get; private set; };
		
		public property Boolean PrimaryObjectiveCompleted { get; private set; };
		
		public property String SecondaryObjectiveName { get; private set; };
		
		public property Boolean SecondaryObjectiveCompleted { get; private set; };
		
		public property Boolean UsingReturnObjective { get; private set; };
		
		public property Boolean ReturnObjectiveCompleted { get; private set; };
		
		public property Scalar MenAtStart { get; private set; };
		
		public property Scalar MenAtEnd { get; private set; };
		
		public property Scalar Score { get; private set; };
	};
};
